# å¯¼å…¥å¿…è¦çš„åº“
import streamlit as st  # Streamlit Webæ¡†æ¶
from datetime import datetime  # æ—¥æœŸæ—¶é—´å¤„ç†æ¨¡å—
from PIL import Image  # Pythonå›¾åƒå¤„ç†åº“

# è®¾ç½®é¡µé¢é…ç½®
st.set_page_config(page_title="ä¸ªäººç®€å†ç”Ÿæˆå™¨", page_icon="ğŸ“„", layout="wide")

# é¡µé¢æ ‡é¢˜
st.title("ä¸ªäººç®€å†ç”Ÿæˆå™¨")  # æ˜¾ç¤ºä¸»æ ‡é¢˜
st.markdown("**ä½¿ç”¨ æƒå½’ä¸ªäººæ‰€æœ‰**")  # æ˜¾ç¤ºç‰ˆæƒä¿¡æ¯

# åˆ›å»ºä¸¤åˆ—å¸ƒå±€
col1, col2 = st.columns(2)  # åˆ›å»ºå·¦å³ä¸¤åˆ—

with col1:  # å·¦ä¾§åˆ—å¼€å§‹
    st.header("ä¸ªäººä¿¡æ¯è¡¨å•")  # å·¦ä¾§åˆ—æ ‡é¢˜
    
    # å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½
    st.subheader("ä¸Šä¼ å¤´åƒ")  # ä¸Šä¼ å¤´åƒå­æ ‡é¢˜
    uploaded_file = st.file_uploader(  # æ–‡ä»¶ä¸Šä¼ ç»„ä»¶
        "é€‰æ‹©å›¾ç‰‡æ–‡ä»¶",  # ç»„ä»¶æ ‡ç­¾
        type=['jpg', 'jpeg', 'png', 'gif', 'bmp'],  # å…è®¸ä¸Šä¼ çš„å›¾ç‰‡æ ¼å¼
        help="æ”¯æŒæ ¼å¼: JPG, PNG, GIF, BMP"  # å¸®åŠ©æ–‡æœ¬
    )
    
    # å§“åè¾“å…¥
    name = st.text_input("å§“å", value="æµ®æ¢¦")  # å§“åè¾“å…¥æ¡†ï¼Œé»˜è®¤å€¼ä¸º"æµ®æ¢¦"
    
    # æ€§åˆ«é€‰æ‹©
    gender = st.selectbox("æ€§åˆ«", ["ç”·", "å¥³"], index=0)  # æ€§åˆ«ä¸‹æ‹‰é€‰æ‹©æ¡†ï¼Œé»˜è®¤é€‰æ‹©ç¬¬ä¸€ä¸ªé€‰é¡¹"ç”·"
    
    # å¹´é¾„è¾“å…¥
    age = st.text_input("å¹´é¾„", value="22")  # å¹´é¾„è¾“å…¥æ¡†ï¼Œé»˜è®¤å€¼ä¸º"22"
    
    # æˆ·ç±è¾“å…¥
    household = st.text_input("æˆ·ç±", value="å¹¿è¥¿")  # æˆ·ç±è¾“å…¥æ¡†ï¼Œé»˜è®¤å€¼ä¸º"å¹¿è¥¿"
    
    # ç”µè¯è¾“å…¥
    phone = st.text_input("ç”µè¯", value="12345678910")  # ç”µè¯è¾“å…¥æ¡†ï¼Œé»˜è®¤å€¼ä¸º"12345678910"
    
    # é‚®ç®±è¾“å…¥
    email = st.text_input("é‚®ç®±", value="123456789@qq.com")  # é‚®ç®±è¾“å…¥æ¡†ï¼Œé»˜è®¤å€¼ä¸º"123456789@qq.com"
    
    # å‡ºç”Ÿæ—¥æœŸ
    birth_date = st.date_input("å‡ºç”Ÿæ—¥æœŸ", value=datetime(2025, 1, 1))  # æ—¥æœŸé€‰æ‹©å™¨ï¼Œé»˜è®¤å€¼ä¸º2025å¹´1æœˆ1æ—¥
    
    # å­¦å†é€‰æ‹©
    education = st.selectbox("å­¦å†", ["é«˜ä¸­", "å¤§ä¸“", "æœ¬ç§‘", "ç¡•å£«", "åšå£«", "å…¶ä»–"], index=2)  # å­¦å†ä¸‹æ‹‰é€‰æ‹©æ¡†ï¼Œé»˜è®¤é€‰æ‹©"æœ¬ç§‘"
    
    # ä¸“ä¸šè¾“å…¥
    major = st.text_input("ä¸“ä¸š", value="ä¿¡æ¯ç®¡ç†ä¸ä¿¡æ¯ç³»ç»Ÿ")  # ä¸“ä¸šè¾“å…¥æ¡†ï¼Œé»˜è®¤å€¼ä¸º"ä¿¡æ¯ç®¡ç†ä¸ä¿¡æ¯ç³»ç»Ÿ"
    
    # æ±‚èŒæ„å‘
    st.subheader("æ±‚èŒæ„å‘")  # æ±‚èŒæ„å‘ç€æ ‡é¢˜
    job_intention = st.text_input("æ±‚èŒæ„å‘", placeholder="è¯·è¾“å…¥æ±‚èŒæ„å‘")  # æ±‚èŒæ„å‘è¾“å…¥æ¡†ï¼Œæœ‰å ä½æç¤º
    
    # å·¥ä½œç»å†
    st.subheader("å·¥ä½œç»å†")  # å·¥ä½œç»å†å­æ ‡é¢˜
    work_experience = st.text_input("å·¥ä½œç»å†", value="åœ¨èŒå¸ˆé™¢è¢«å‹æ¦¨è¿‡")  # å·¥ä½œç»å†è¾“å…¥æ¡†ï¼Œæœ‰é»˜è®¤å€¼

with col2:  # å³ä¾§åˆ—å¼€å§‹
    st.header("ç®€å†å®æ—¶é¢„è§ˆ")  # å³ä¾§åˆ—æ ‡é¢˜
    
    # å¤´åƒæ˜¾ç¤ºåŒºåŸŸ
    st.subheader("ä¸ªäººå¤´åƒ")  # å¤´åƒæ˜¾ç¤ºåŒºåŸŸæ ‡é¢˜
    
    if uploaded_file is not None:  # å¦‚æœç”¨æˆ·ä¸Šä¼ äº†æ–‡ä»¶
        try:
            # æ‰“å¼€å¹¶æ˜¾ç¤ºå›¾ç‰‡
            image = Image.open(uploaded_file)  # ä½¿ç”¨PILæ‰“å¼€ä¸Šä¼ çš„å›¾ç‰‡
            st.image(image, width=150, caption="ä¸ªäººå¤´åƒ")  # æ˜¾ç¤ºå›¾ç‰‡ï¼Œå®½åº¦150åƒç´ ï¼Œæ·»åŠ æ ‡é¢˜
            
        except Exception as e:  # å¦‚æœå›¾ç‰‡åŠ è½½å¤±è´¥
            st.error(f"å›¾ç‰‡åŠ è½½å¤±è´¥: {str(e)}")  # æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
            st.info("è¯·ä¸Šä¼ æœ‰æ•ˆçš„å›¾ç‰‡æ–‡ä»¶")  # æ˜¾ç¤ºæç¤ºä¿¡æ¯
    else:  # å¦‚æœæ²¡æœ‰ä¸Šä¼ å›¾ç‰‡
        # å¦‚æœæ²¡æœ‰ä¸Šä¼ å›¾ç‰‡ï¼Œæ˜¾ç¤ºå ä½ç¬¦
        st.write("æš‚æ— å¤´åƒ")  # æ˜¾ç¤ºæ–‡å­—æç¤º
        st.info("è¯·åœ¨å·¦ä¾§ä¸Šä¼ å¤´åƒå›¾ç‰‡")  # æ˜¾ç¤ºæ“ä½œæç¤º
    
    st.divider()  # æ·»åŠ åˆ†éš”çº¿
    
    # ä¸ªäººä¿¡æ¯é¢„è§ˆ
    st.write(f"**å§“å:** {name}")  # æ˜¾ç¤ºå§“åï¼ŒåŠ ç²—æ˜¾ç¤º
    st.write(f"**æ€§åˆ«:** {gender}")  # æ˜¾ç¤ºæ€§åˆ«
    st.write(f"**å¹´é¾„:** {age}")  # æ˜¾ç¤ºå¹´é¾„
    st.write(f"**æˆ·ç±:** {household}")  # æ˜¾ç¤ºæˆ·ç±
    st.write(f"**ç”µè¯:** {phone}")  # æ˜¾ç¤ºç”µè¯
    st.write(f"**é‚®ç®±:** {email}")  # æ˜¾ç¤ºé‚®ç®±
    st.write(f"**å‡ºç”Ÿæ—¥æœŸ:** {birth_date.strftime('%Y/%m/%d')}")  # æ˜¾ç¤ºæ ¼å¼åŒ–åçš„å‡ºç”Ÿæ—¥æœŸ
    st.write(f"**å­¦å†:** {education}")  # æ˜¾ç¤ºå­¦å†
    st.write(f"**ä¸“ä¸š:** {major}")  # æ˜¾ç¤ºä¸“ä¸š
    
    if job_intention:  # å¦‚æœç”¨æˆ·è¾“å…¥äº†æ±‚èŒæ„å‘
        st.write(f"**æ±‚èŒæ„å‘:** {job_intention}")  # æ˜¾ç¤ºç”¨æˆ·è¾“å…¥çš„æ±‚èŒæ„å‘
    else:  # å¦‚æœç”¨æˆ·æ²¡æœ‰è¾“å…¥æ±‚èŒæ„å‘
        st.write(f"**æ±‚èŒæ„å‘:** è½¯ä»¶æµ‹è¯•")  # æ˜¾ç¤ºé»˜è®¤çš„æ±‚èŒæ„å‘"è½¯ä»¶æµ‹è¯•"
    
    st.write(f"**å·¥ä½œç»å†:** {work_experience}")  # æ˜¾ç¤ºå·¥ä½œç»å†
    
    st.divider()  # æ·»åŠ åˆ†éš”çº¿
    
    # ä¸ªäººç®€ä»‹
    st.subheader("ä¸ªäººç®€ä»‹")  # ä¸ªäººç®€ä»‹å­æ ‡é¢˜
    personal_intro = st.text_area(  # å¤šè¡Œæ–‡æœ¬è¾“å…¥æ¡†
        "ä¸ªäººç®€ä»‹",  # æ ‡ç­¾
        value="ä¸“ä¸šæ’åå‰10%ï¼Œè·å›½å®¶å¥–å­¦é‡‘ã€‚ç²¾é€šPython/Javaï¼Œæœ‰è…¾è®¯åç«¯å®ä¹ ç»å†ã€‚æ‹…ä»»æ ¡ç§‘åä¸»å¸­ï¼Œé¢†å¯¼åŠ›ä¸å›¢é˜Ÿåä½œèƒ½åŠ›çªå‡ºã€‚",  # é»˜è®¤å€¼
        height=150  # æ–‡æœ¬æ¡†é«˜åº¦
    )
    
    # ä¸“ä¸šæŠ€èƒ½
    st.subheader("ä¸“ä¸šæŠ€èƒ½")  # ä¸“ä¸šæŠ€èƒ½å­æ ‡é¢˜
    skills = st.text_input(  # å•è¡Œæ–‡æœ¬è¾“å…¥æ¡†
        "ä¸“ä¸šæŠ€èƒ½",  # æ ‡ç­¾
        value="Java, HTML/CSS, æœºå™¨å­¦ä¹ , Python, Web, JavaScript"  # é»˜è®¤å€¼
    )

# åº•éƒ¨æ“ä½œåŒºåŸŸ
st.divider()  # æ·»åŠ åˆ†éš”çº¿
col_btn1, col_btn2, col_btn3 = st.columns([1, 1, 2])  # åˆ›å»ºåº•éƒ¨æŒ‰é’®åŒºåŸŸï¼Œ3åˆ—å¸ƒå±€ï¼Œæ¯”ä¾‹1:1:2

with col_btn1:  # ç¬¬ä¸€ä¸ªæŒ‰é’®åˆ—
    if st.button("ç”Ÿæˆç®€å†PDF"):  # ç”ŸæˆPDFæŒ‰é’®
        if uploaded_file is not None:  # å¦‚æœä¸Šä¼ äº†å¤´åƒ
            st.success(f"ç®€å†PDFå·²ç”Ÿæˆï¼åŒ…å«å¤´åƒ")  # æ˜¾ç¤ºæˆåŠŸæç¤ºï¼ŒåŒ…å«å¤´åƒ
        else:  # å¦‚æœæ²¡æœ‰ä¸Šä¼ å¤´åƒ
            st.success("ç®€å†PDFå·²ç”Ÿæˆï¼(æ— å¤´åƒ)")  # æ˜¾ç¤ºæˆåŠŸæç¤ºï¼Œä¸åŒ…å«å¤´åƒ
        
with col_btn2:  # ç¬¬äºŒä¸ªæŒ‰é’®åˆ—
    if st.button("ä¿å­˜ä¸ºæ¨¡æ¿"):  # ä¿å­˜æ¨¡æ¿æŒ‰é’®
        st.info("æ¨¡æ¿å·²ä¿å­˜ï¼")  # æ˜¾ç¤ºä¿å­˜æˆåŠŸçš„æç¤ºä¿¡æ¯

# åº•éƒ¨ä¿¡æ¯
st.caption("ä¸è¦æŠ„è¢­ç½‘é¡µ")  # é¡µé¢åº•éƒ¨çš„å°å­—æç¤º